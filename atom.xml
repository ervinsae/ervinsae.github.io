<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ervin</title>
  
  <subtitle>真正的强者是认清了生活的本质，并且去热爱他的人。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-10-20T07:32:29.634Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Ervin Zhang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mac下全局翻墙</title>
    <link href="http://yoursite.com/2018/10/20/Mac%E4%B8%8B%E7%9A%84%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86/"/>
    <id>http://yoursite.com/2018/10/20/Mac下的全局代理/</id>
    <published>2018-10-20T07:26:29.134Z</published>
    <updated>2018-10-20T07:32:29.634Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mac下全局翻墙"><a href="#mac下全局翻墙" class="headerlink" title="mac下全局翻墙"></a>mac下全局翻墙</h2><ol><li>路由翻墙</li><li>ssr + .bash_profile</li><li>使用工具，类似profixer，surge等</li></ol><blockquote><p>使用iterm的，环境变量也可以使用.bash的(需要在.zsh中去设置环境变量走.bash_profile)也可以在.zshrc中</p></blockquote><blockquote><p>由于ss或者ssr只是支持了socks5的代理，也就是所有的都走socks5协议，而浏览器本身是支持socks5的（当然还有http，https，ftp等），但是如果你想mac上装的客户端，比如telegram也能通过ssr达到科学上网就想多了，但是这些软件，还比如AS都可以手动去设置代理的（socks5），一般ssr默认的设置如下：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip：127.0.0.1</span><br><span class="line"># http走的是1087端口</span><br><span class="line">port：1086</span><br></pre></td></tr></table></figure><h2 id="方法2设置步骤"><a href="#方法2设置步骤" class="headerlink" title="方法2设置步骤"></a>方法2设置步骤</h2><ul><li>vimb(vim .bash_profile)</li><li>修改文件（添加下面代码）</li><li>source .bash_profile</li><li>验证：curl <a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># proxy</span><br><span class="line">proxy=socks5://127.0.0.1:1086</span><br><span class="line">export http_proxy=$proxy</span><br><span class="line">export https_proxy=$proxy</span><br><span class="line">export ftp_proxy=$proxy</span><br></pre></td></tr></table></figure><p>通过上面设置就能在命令行中发现已经可以科学上网了，目前还有两个蛋痛的地方没解决：</p><ul><li>profixer在mac上装不了了，一直弹窗。权限都给了</li><li>使用Google Drive同步文件用不了，只有将ssr设置全局才可以，MD。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;mac下全局翻墙&quot;&gt;&lt;a href=&quot;#mac下全局翻墙&quot; class=&quot;headerlink&quot; title=&quot;mac下全局翻墙&quot;&gt;&lt;/a&gt;mac下全局翻墙&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;路由翻墙&lt;/li&gt;
&lt;li&gt;ssr + .bash_profile&lt;/li&gt;
&lt;
      
    
    </summary>
    
      <category term="技术" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>网易云集成IM</title>
    <link href="http://yoursite.com/2018/10/20/%E7%BD%91%E6%98%93%E4%BA%91%E4%BF%A1IM%E9%9B%86%E6%88%90%E8%A6%81%E7%82%B9/"/>
    <id>http://yoursite.com/2018/10/20/网易云信IM集成要点/</id>
    <published>2018-10-20T07:26:20.467Z</published>
    <updated>2018-10-20T07:33:49.939Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>项目中需要实现IM通信功能，其实原来已经继承了云信的视频SDK，而IM模块其实已经在SDK中了，但是由于我们的IM聊天界面是需要自己定制了，因此就加了添加了一个lib-ui的库，方便去自定义IM界面</p><a id="more"></a><h2 id="集成"><a href="#集成" class="headerlink" title="集成"></a>集成</h2><p>集成其实很简单，网易提供了两种方式，jar和gradle，毫无疑问gradle</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 基础功能 (必需)</span><br><span class="line">netease_basesdk       : &apos;com.netease.nimlib:basesdk:5.1.1&apos;,</span><br><span class="line">// 音视频需要</span><br><span class="line">netease_avchat        : &apos;com.netease.nimlib:avchat:5.1.1&apos;,</span><br><span class="line">// 音视频需要</span><br><span class="line">netease_nrtc          : &apos;com.netease.nimlib:nrtc:5.1.1&apos;,</span><br><span class="line">// 全文检索服务需要</span><br><span class="line">netease_lucene        : &apos;com.netease.nimlib:lucene:5.1.1&apos;,</span><br></pre></td></tr></table></figure><blockquote><p>其中第一个是早就集成了的，自带IM功能，第二第三则是音视频需要的，第四个是需要做聊天记录搜索要用到的</p></blockquote><ol><li>APPID申请</li><li>权限</li><li>初始化</li></ol><ul><li>前两个看官方文档就可以了，初始化一般就是在主APP的Aplication中进行，代码如下</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 注册通知消息过滤器</span><br><span class="line">registerIMMessageFilter();</span><br><span class="line"></span><br><span class="line">// 初始化消息提醒</span><br><span class="line">NIMClient.toggleNotification(true);</span><br><span class="line"></span><br><span class="line">// 注册网络通话来电</span><br><span class="line">enableAVChat();</span><br><span class="line"></span><br><span class="line">//初始化IM UI组件</span><br><span class="line">NimUIKit.init(this);</span><br></pre></td></tr></table></figure><p>官方文档和demo中也有说明，需要使用到哪种能力就去初始化哪些，比如该版本还用到了IM的自定义消息，那么也必须在这里进行注册</p><blockquote><p>注意：以上的初始化只能在主线程中进行，为此，云信提供了一个API：NIMUtil.isMainProcess(this)</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NIMClient.getService(MsgService.class).registerCustomAttachmentParser(new CustomAttachParse());</span><br><span class="line">        </span><br><span class="line">NimUIKit.registerMsgItemViewHolder(DiagnosisMsg.class, MsgViewHolderDiagnosis.class);</span><br></pre></td></tr></table></figure><ol start="4"><li>IM消息监听</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 注册IM消息监听</span><br><span class="line">        NIMClient.getService(MsgServiceObserve.class)</span><br><span class="line">                .observeReceiveMessage(messageObserver, true);</span><br><span class="line">// 反注册</span><br><span class="line">        NIMClient.getService(MsgServiceObserve.class)</span><br><span class="line">                .observeReceiveMessage(messageObserver, false);</span><br></pre></td></tr></table></figure><h1 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h1><ul><li><strong>注册登陆</strong>：集成网易云后，需要将本地用户与网易云id关联，每一个用户在网易云有一个唯一的accid和token，对于登陆相当于用户名及密码，对于业务比如：视频/IM则相当与电话号码，你需要和别人通信的时候必须知道对方的accid。</li><li><strong>用户信息托管</strong>：由于本地用户在网易云有一个id关联，那么当要用到网易云的一些能力的时候，我们希望用户的一些基础信息（头像，昵称）是要与本地后端保持一致的。</li><li><strong>消息锚点</strong>：其实就是一个消息对象，它携带了一些时间或者其他信息，方便搜索。</li></ul><blockquote><p>上面两点都是本地后端处理的，前段需要处理的则是，在登陆系统成功后，需要手动调用网易登陆api去帮助用户登陆到网易云，并且监听用户的登陆状态。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">public void nimLogin(User user) &#123;</span><br><span class="line">        LoginInfo info = new LoginInfo(user.accid, user.token); // config...</span><br><span class="line">        RequestCallback&lt;LoginInfo&gt; callback =</span><br><span class="line">                new RequestCallback&lt;LoginInfo&gt;() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void onSuccess(LoginInfo param) &#123;</span><br><span class="line">                        Logger.d(&quot;login nim success&quot;);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    @Override</span><br><span class="line">                    public void onFailed(int code) &#123;</span><br><span class="line">                        Logger.d(&quot;login nim failed :&quot; + code);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    @Override</span><br><span class="line">                    public void onException(Throwable exception) &#123;</span><br><span class="line">                        Logger.e(exception, &quot;login nim failed&quot;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">        AbortableFuture&lt;LoginInfo&gt; request = NIMClient.getService(AuthService.class).login(info);</span><br><span class="line">        request.setCallback(callback);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void observeNimOnlineStatus(User user) &#123;</span><br><span class="line">        NIMClient.getService(AuthServiceObserver.class).observeOnlineStatus(</span><br><span class="line">                (Observer&lt;StatusCode&gt;) status -&gt; &#123;</span><br><span class="line">                    Log.i(&quot;nim&quot;, &quot;User status changed to: &quot; + status);</span><br><span class="line">                    if (status.shouldReLogin()) &#123;</span><br><span class="line">                        new Handler().postDelayed(() -&gt; nimLogin(user), 5000);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, true);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="IM相关"><a href="#IM相关" class="headerlink" title="IM相关"></a>IM相关</h1><h3 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h3><p>由于lib_neteaseui库提供了界面能力，所以自然自定义界面的话需要集成他的界面，这里有两种方式</p><ol><li>集成现有类（比如p2pmessage）,只需要修改layout，并且传递需要的参数即可。</li><li>继承SDK中的UI并实现ModuleProxy代理类中方法</li></ol><h3 id="开启单聊"><a href="#开启单聊" class="headerlink" title="开启单聊"></a>开启单聊</h3><p>很简单直接看代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IMMessageActivity.start(getContext(), entity.accid, customization, null, IMMessageActivity.class);</span><br></pre></td></tr></table></figure><p>其中，entity.accid代表了对方的号码。</p><h3 id="消息面板设置"><a href="#消息面板设置" class="headerlink" title="消息面板设置"></a>消息面板设置</h3><ol><li>面板类：MessageListPanelEx，这里面封装了发送消息面板的所有功能</li><li>抽屉：基类BaseAction，比如拍照，相片或者自定义类型都是通过这个基类来实现的。</li><li>IM面板layout：nim_message_activity_text_layout</li><li>设置用户托管信息：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 设置网易云用户资料（IM中的头像，昵称等）</span><br><span class="line">NimUserManager.setUserBasicInfo(user.patientName,user.imgUrl);</span><br></pre></td></tr></table></figure><h3 id="消息设置"><a href="#消息设置" class="headerlink" title="消息设置"></a>消息设置</h3><ol><li>消息屏蔽：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//屏蔽所有消息</span><br><span class="line">NIMClient.toggleNotification(false);</span><br><span class="line">//屏蔽某个用户消息</span><br><span class="line">NIMClinet.getService(FriendService.class).setMessageNotify(account,checkState)</span><br></pre></td></tr></table></figure><ol start="2"><li>消息接收</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">     * IM消息监听</span><br><span class="line">     */</span><br><span class="line">    com.netease.nimlib.sdk.Observer&lt;List&lt;IMMessage&gt;&gt; messageObserver = new com.netease.nimlib.sdk.Observer&lt;List&lt;IMMessage&gt;&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onEvent(List&lt;IMMessage&gt; imMessages) &#123;</span><br><span class="line">            Logger.d(&quot;im message received&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure><ol start="3"><li>自定义消息</li></ol><p>自定义消息比较复杂，参见代码。具体步骤如下：</p><ul><li>定义消息</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 需要多端统一</span><br><span class="line"> */</span><br><span class="line">public interface CustomAttachmentType &#123;</span><br><span class="line"></span><br><span class="line">    int diagnosisMsg = 1001;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>自定义消息的基础类</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public abstract class CustomAttachment implements MsgAttachment &#123;</span><br><span class="line">    protected int type;</span><br><span class="line">    CustomAttachment(int type) &#123;</span><br><span class="line">        this.type = type;</span><br><span class="line">    &#125;</span><br><span class="line">    public void fromJson(JsonObject data) &#123;</span><br><span class="line">        if (data != null) &#123;</span><br><span class="line">            parseData(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toJson(boolean send) &#123;</span><br><span class="line">        return CustomAttachParse.packData(type, packData());</span><br><span class="line">    &#125;</span><br><span class="line">    public int getType() &#123;</span><br><span class="line">        return type;</span><br><span class="line">    &#125;</span><br><span class="line">    protected abstract void parseData(JsonObject data);</span><br><span class="line">    protected abstract JsonObject packData();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>自定义消息结构类（用于组装自定义数据）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class DiagnosisMsg extends CustomAttachment</span><br></pre></td></tr></table></figure><ul><li>自定义消息解析类（用于显示自定义消息）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class CustomAttachParse implements MsgAttachmentParser</span><br></pre></td></tr></table></figure><p><a href="https://github.com/netease-im/NIM_Android_UIKit/blob/master/documents/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF.md" target="_blank" rel="noopener">参见官方文档</a></p><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><ol><li>注册账号accid网易云强制小写</li><li>网易云消息从后端还是本地拉取</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">messageListPanel = new MessageListPanelEx(container, rootView, anchor, false, remote);</span><br></pre></td></tr></table></figure><p>其中最后一个参数remote = true表示从云端拉取数据</p><ol start="3"><li>IM聊天点击头像事件<br>layout：MsgAdapter中layout.nim_message_item</li></ol><p>点击事件：<strong>NimUIKitImpl.setSessionListener</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;项目中需要实现IM通信功能，其实原来已经继承了云信的视频SDK，而IM模块其实已经在SDK中了，但是由于我们的IM聊天界面是需要自己定制了，因此就加了添加了一个lib-ui的库，方便去自定义IM界面&lt;/p&gt;
    
    </summary>
    
      <category term="技术" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Mac下的常用命令行</title>
    <link href="http://yoursite.com/2018/10/19/Mac%E4%B8%8B%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/10/19/Mac下的常用命令/</id>
    <published>2018-10-18T16:40:41.924Z</published>
    <updated>2018-10-18T16:44:53.311Z</updated>
    
    <content type="html"><![CDATA[<h3 id="查看IP"><a href="#查看IP" class="headerlink" title="查看IP"></a>查看IP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$curl ip.gs</span><br><span class="line"></span><br><span class="line">$ifconfig</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="关于文件操作"><a href="#关于文件操作" class="headerlink" title="关于文件操作"></a>关于文件操作</h3><p>由于mac下面不能使用右键新建文件，所以需要使用一些工具，如workflow，或者直接命令行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 查看文件如果没有则创建新文件</span><br><span class="line">touch filename</span><br><span class="line"># 新建文件夹</span><br><span class="line">mkdir filename</span><br><span class="line"># 删除文件或者目录</span><br><span class="line">rm -rf filename</span><br><span class="line"># 查看文件详细信息</span><br><span class="line">stat filename</span><br><span class="line"></span><br><span class="line"># 查看目录结果，需要装tree</span><br><span class="line">npm install tree</span><br><span class="line">tree -L 1</span><br></pre></td></tr></table></figure><h3 id="vim常规操作"><a href="#vim常规操作" class="headerlink" title="vim常规操作"></a>vim常规操作</h3><table><thead><tr><th>操作命令</th><th>效果</th></tr></thead><tbody><tr><td>i</td><td>在光标处插入，进入编辑模式</td></tr><tr><td>dd</td><td>剪切光标所在的一行内容</td></tr><tr><td>yy</td><td>复制光标所在的一行内容</td></tr><tr><td>D</td><td><strong>删除光标右边的所有内容</strong></td></tr><tr><td>gg</td><td>将光标快速移动到文件首</td></tr><tr><td>G</td><td>将光标快速移动到文件尾</td></tr><tr><td>0</td><td>将光标快速移动到行首</td></tr><tr><td>$</td><td>将光标快速移动到行尾</td></tr></tbody></table><table><thead><tr><th>退出命令</th><th>效果</th></tr></thead><tbody><tr><td>:w</td><td>保存</td></tr><tr><td>:q</td><td>未保存直接退出（如果没有修改，用下面的命令）</td></tr><tr><td>:q！</td><td>强制退出</td></tr><tr><td>:wq</td><td>保存退出</td></tr><tr><td>:wq</td><td>强制保存退出</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;查看IP&quot;&gt;&lt;a href=&quot;#查看IP&quot; class=&quot;headerlink&quot; title=&quot;查看IP&quot;&gt;&lt;/a&gt;查看IP&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$curl ip.gs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ifconfig&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技术" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Git使用心得</title>
    <link href="http://yoursite.com/2018/10/18/git%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/"/>
    <id>http://yoursite.com/2018/10/18/git使用心得/</id>
    <published>2018-10-18T04:17:12.576Z</published>
    <updated>2018-10-18T06:38:52.994Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-具体"><a href="#1-具体" class="headerlink" title="1. 具体"></a>1. 具体</h3><p>1.使用git add .添加了所有修改文件到暂存区之后在commite到本地之前想撤销add操作可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;file&gt;</span><br></pre></td></tr></table></figure></p><p>将某个文件从暂存区拿出来。</p><p>2.已经commite了提交到了本地但是还没有push到远端，这时候发现有个文件不能提交到远端可以使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset -soft/--mix/--hard &lt;commite id&gt;</span><br></pre></td></tr></table></figure></p><p>会将本地仓库回退到commite id这个版本（可以是上一次commite的版本）。reset后的参数代表了是否保留本地代码的修改，具体可以查询网络。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 查询所有git的提交记录，包括详细commite id</span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="2-git-add语法"><a href="#2-git-add语法" class="headerlink" title="2. git add语法"></a>2. git add语法</h3><table><thead><tr><th style="text-align:left">语法</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:left">git add -A</td><td>stages All</td></tr><tr><td style="text-align:left">git add .</td><td>stages new and modified, without deleted</td></tr><tr><td style="text-align:left">git add -u</td><td>stages modified and deleted, without new</td></tr></tbody></table><h3 id="3-git-merge合并"><a href="#3-git-merge合并" class="headerlink" title="3. git merge合并"></a>3. git merge合并</h3><p>现在最简单的merge模式就是fast-farward merge了，就是从master拉出的分支develop后，master没有再做任何修改，所有的代码都在develop分支上提交，等到最后要合并develop到master上时，可以使用如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 切换到Master分支</span><br><span class="line">git checkout master</span><br><span class="line"># 对Develop分支进行合并</span><br><span class="line">git merge --no-ff develop</span><br></pre></td></tr></table></figure><h3 id="4-git-tag打标签"><a href="#4-git-tag打标签" class="headerlink" title="4. git tag打标签"></a>4. git tag打标签</h3><p>标签可以针对某一时间点的版本做标记，常用于版本发布。</p><p>1.列出标签</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 在控制台打印出当前仓库的所有标签</span><br><span class="line">git tag</span><br><span class="line"># 搜索符合模式的标签</span><br><span class="line">git tag -l ‘v0.1.*’</span><br></pre></td></tr></table></figure><p>2.打标签</p><p>git标签分为两种类型：轻量标签和附注标签。轻量标签是指向提交对象的引用，附注标签则是仓库中的一个独立对象。建议使用附注标签。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 创建轻量标签</span><br><span class="line">git tag v0.1.2-light</span><br><span class="line"># 创建附注标签</span><br><span class="line">git tag -a v0.1.2 -m &quot;0.1.2版本&quot;</span><br><span class="line"># 针对某个提交打标签</span><br><span class="line">git tag v1.0 &lt;commite id&gt;</span><br></pre></td></tr></table></figure><p>3.切换标签</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show v0.1.2</span><br></pre></td></tr></table></figure><p>4.删除标签</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 删除本地标签</span><br><span class="line">git tag -d v0.1.2</span><br><span class="line"># 删除远程标签</span><br><span class="line">git push origin --delete tag v1.0</span><br></pre></td></tr></table></figure><p>5.标签发布</p><p>通常的git push不会将标签对象提交到git服务器，我们需要进行显式的操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 将v0.1.2标签提交到git服务器</span><br><span class="line">git push origin v0.1.2</span><br><span class="line"># 将本地所有标签一次性提交到git服务器</span><br><span class="line">git push origin –tags</span><br></pre></td></tr></table></figure><h3 id="5-git-stash"><a href="#5-git-stash" class="headerlink" title="5. git stash"></a>5. git stash</h3><p>该命令用来保存当前分支上还没commite的修改，使当前分支保持clean状态（git status）</p><p><code>使用场景:</code>执行git stash后，你在dev分支没有提交的修改暂时被“藏”了起来，看起来dev分支是干净的。但是，请一定注意，你还在dev分支！因为你需要切换到master分支去修改bug，因此此时需要切换到master分支（如果不执行git stash就切换到master分支是不行的：git会报告当前dev分支还存在未提交的修改，比如先提交才允许你切换分支，而出于各种原因，你还不能现在提交dev分支的内容（一般也就先提交了，大不了再切回来改就是哦），这就是git stash存在的价值）。</p><p>切换到stash分支后的恢复命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 恢复并删除stash内容</span><br><span class="line">git stash pop</span><br><span class="line"></span><br><span class="line"># 查看现场</span><br><span class="line">git stash list</span><br><span class="line"></span><br><span class="line"># 保存现场</span><br><span class="line">git stash</span><br></pre></td></tr></table></figure></p><h3 id="6-git分支管理"><a href="#6-git分支管理" class="headerlink" title="6. git分支管理"></a>6. git分支管理</h3><ol><li><code>master</code>:主分支，当前分支上的代码随时可以直接发布，并且只能通过Pull Request从其他分支进行合并，而不能直接push修改。当开发告一段落，产生了新的可供发布的代码时，master分支通过Pull Request更新了代码，同时，每一次更新必须添加对应版本号的标签TAG。</li><li><code>develop</code>:开发分支，保存当前最新开发成果的分支，即当一个新功能开发完毕需要先合并到develop分支，这个分支的代码会进行每日的代码持续集成(Daily Build)。所有的开发任务都是从这个分支Checkout新的特性分支进行开发。</li><li><code>feature</code>:特性分支，当开发新的功能时，从develop分支Checkout新的feature分支，这个分支的代码最终要合并回develop分支或者废弃掉(例如预研功能效果不好时)。feature分支最好以功能为单位。</li><li><p><code>hotfix</code>:紧急修复分支，唯一从master分支派生的分支，当生产环境中发现了异常或者缺陷的时候，从master分支上指定的TAG版本Checkout hotfix分支进行紧急修复工作，当修复完成之后，必须同时合并到master分支和develop分支。合并完代码之后删除hotfix分支。</p></li><li><p>新建分支(已feature为例)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 切换本地分支到develop分支</span><br><span class="line">git checkout develop</span><br><span class="line"># 拉取远程Git仓库中的最新的develop分支的代码</span><br><span class="line">git pull</span><br><span class="line"># 创建本地特性分支feature</span><br><span class="line">git checkout -b feature</span><br><span class="line"># 推送本地特性分支到远程Git仓库（即创建远程特性分支），-u为追踪远程分支</span><br><span class="line">git push -u origin feature</span><br></pre></td></tr></table></figure></li><li><p>已feature分支为例开发合并全流程</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 开发代码。以下两步的作用是保证你本地的feature分支的代码为最新，因为有可能你是和别人合作开发的该功能，如果你刚更新过或者你是一个人在开发则可以省略此操作</span><br><span class="line"># 切换到本地feature分支</span><br><span class="line">git checkout feature</span><br><span class="line"># 拉取远程分支代码，--rebase最好加上</span><br><span class="line">git pull --rebase</span><br></pre></td></tr></table></figure></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 合并代码</span><br><span class="line"># 切换到本地develop分支</span><br><span class="line">git checkout develop</span><br><span class="line"># 拉取最新的远程origin/develop分支代码，因为可能已经有人提交了代码</span><br><span class="line">git pull --rebase</span><br><span class="line"># 从本地feature-login分支合并代码，--no-ff为禁止fast-farward模式</span><br><span class="line">git merge --no-ff feature-login</span><br><span class="line"># 推送到远程分支</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 代码已经合并完，可以删除本地特性分支和远程特性分支</span><br><span class="line"># 删除本地feature-login特性分支</span><br><span class="line">git branch -d feature-login</span><br><span class="line"># 删除远程origin/feature-login特性分支（废除，实验无效）</span><br><span class="line">git branch -r -d origin/feature-login</span><br><span class="line">#在v1.7.0 之后，可以使用这种语法删除远程分支(同删除标签tag类似)</span><br><span class="line">git push origin --delete &lt;branch name&gt;</span><br></pre></td></tr></table></figure><h3 id="7-git-push"><a href="#7-git-push" class="headerlink" title="7.git push"></a>7.git push</h3><p>push到远程分支有https和ssh两种方式，https每次push都会要求输入用户名和密码，而ssh只要在远端注册了ssh key则不需要。<br>另外，ssh可以上传大文件，https貌似不行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 这个会把本地当前分支的内容push到远端的demo分支，如果远端没有该分支则自动创建</span><br><span class="line">git push -u origin demo</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 生成ssh key,该程序在 Linux/Mac 系统上由 SSH 包提供，而在 Windows 上则包含在 MSysGit 包里：</span><br><span class="line">ssh-keygen</span><br><span class="line"># 可以查看远程分支情况</span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure><h3 id="8-git-reset"><a href="#8-git-reset" class="headerlink" title="8.git reset"></a>8.git reset</h3><p>第一小节有类似操作。</p><ol><li>本地代码回滚</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 回滚到commit-id，讲commit-id之后提交的commit都去除</span><br><span class="line">git reset --hard commit-id</span><br><span class="line"># 将最近3次的提交回滚</span><br><span class="line">git reset --hard HEAD~3</span><br></pre></td></tr></table></figure><ol start="2"><li>远程代码回滚。应用场景：app已经发布了，发现有问题需要回滚到某个commit，再重新发布。这时需要先将本地分支退回到某个commit，删除远程分支，再重新push本地分支。操作步骤（还没检验）</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 1</span><br><span class="line">git checkout the_branch</span><br><span class="line"># 2</span><br><span class="line">git pull</span><br><span class="line"># 3 备份一下这个分支当前的情况(本地新建分支？)</span><br><span class="line">git branch the_branch_backup</span><br><span class="line"># 4 把the_branch本地回滚到the_commit_id</span><br><span class="line">git reset --hard the_commit_id</span><br><span class="line"># 5 删除远程 the_branch（可以删除远程分支）</span><br><span class="line">git push origin :the_branch</span><br><span class="line"># 6 用回滚后的本地分支重新建立远程分支</span><br><span class="line">git push origin the_branch</span><br><span class="line"># 7 如果前面都成功了，删除这个备份分支</span><br><span class="line">git push origin :the_branch_backup</span><br></pre></td></tr></table></figure><h3 id="9-git-remote"><a href="#9-git-remote" class="headerlink" title="9.git remote"></a>9.git remote</h3><p>多源操作，一般是一个源，但是多源也很有用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 如果想关联另一个远端仓库（加一个源）</span><br><span class="line">git remote add &lt;origin name&gt; git@gitlab.com:demo/demo.git</span><br><span class="line"></span><br><span class="line"># 显示全部源</span><br><span class="line">git remote / git remote -v</span><br><span class="line"></span><br><span class="line"># rename</span><br><span class="line">git remote rename &lt;origin name&gt; &lt;origin new name&gt;</span><br><span class="line"></span><br><span class="line"># deleted</span><br><span class="line">git remote rm &lt;origin name&gt;</span><br><span class="line"></span><br><span class="line"># 查看指定源的全部信息</span><br><span class="line">git remote show &lt;origin name&gt;</span><br><span class="line"></span><br><span class="line"># 修改远程仓库地址</span><br><span class="line">git remote set-url origin &lt;origin url&gt;</span><br></pre></td></tr></table></figure></p><h3 id="10-git-commit"><a href="#10-git-commit" class="headerlink" title="10.git commit"></a>10.git commit</h3><p>合并某个分支上的某个commit或者多个commit到master分支上<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dd2e86 - <span class="number">946992</span> -<span class="number">9143</span>a9 - a6fd86 - <span class="number">5</span>a6057 [master]</span><br><span class="line">           \</span><br><span class="line">            <span class="number">76</span>cada - <span class="number">62</span>ecb3 - b886a0 [feature]</span><br></pre></td></tr></table></figure></p><ol><li>比如，feature 分支上的commit 62ecb3 非常重要，它含有一个bug的修改，或其他人想访问的内容。无论什么原因，你现在只需要将62ecb3 合并到master，而不合并feature上的其他commits，所以我们用git cherry-pick命令来做：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 示例</span><br><span class="line">git checkout master</span><br><span class="line">git cherry-pick 62ecb3</span><br></pre></td></tr></table></figure><ol start="2"><li>在一些特性情况下，合并单个commit并不够，你需要合并一系列相连的commits。这种情况下就不要选择cherry-pick了，rebase 更适合。还以上例为例，假设你需要合并feature分支的commit76cada ~62ecb3 到master分支。(未实验，要实验一下)</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 首先需要基于feature创建一个新的分支，并指明新分支的最后一个commit：</span><br><span class="line">git checkout -bnewbranch 62ecb3</span><br><span class="line"># 然后，rebase这个新分支的commit到master（--ontomaster）。76cada^ 指明你想从哪个特定的commit开始。</span><br><span class="line">git rebase --ontomaster 76cada^</span><br></pre></td></tr></table></figure><h3 id="11-git-rebase"><a href="#11-git-rebase" class="headerlink" title="11.git rebase"></a>11.git rebase</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 12.git detached HEAD</span><br><span class="line">在一些情况下，会出现detached HEAD的情况，（后面分析下原因）。detached head即游离的HEAD，HEAD指向了未知的分支，即不在所有已知的分支范围内。</span><br><span class="line"></span><br><span class="line">解决办法：</span><br><span class="line"></span><br><span class="line">```git</span><br><span class="line">$ git branch</span><br><span class="line">* (HEAD detached at origin/master)</span><br><span class="line">  dev</span><br><span class="line">  master</span><br></pre></td></tr></table></figure><p>  HEAD指向了一个未知的分支，可用git checkout -b基于当前分支创建一个新的临时分支保留代码，合并到合适的分支后删除<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b temp</span><br><span class="line">Switched to a new branch &apos;temp&apos;</span><br><span class="line">$ git branch</span><br><span class="line">  dev</span><br><span class="line">  master</span><br><span class="line">* temp</span><br><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &apos;master&apos;</span><br><span class="line">Your branch is up-to-date with &apos;origin/master&apos;.</span><br><span class="line">$ git merge temp</span><br><span class="line">Already up-to-date.</span><br><span class="line">$ git branch -d temp</span><br><span class="line">Deleted branch temp (was 3e74a7a).</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-具体&quot;&gt;&lt;a href=&quot;#1-具体&quot; class=&quot;headerlink&quot; title=&quot;1. 具体&quot;&gt;&lt;/a&gt;1. 具体&lt;/h3&gt;&lt;p&gt;1.使用git add .添加了所有修改文件到暂存区之后在commite到本地之前想撤销add操作可以使用&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git reset HEAD &amp;lt;file&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将某个文件从暂存区拿出来。&lt;/p&gt;
&lt;p&gt;2.已经commite了提交到了本地但是还没有push到远端，这时候发现有个文件不能提交到远端可以使用&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git reset -soft/--mix/--hard &amp;lt;commite id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;会将本地仓库回退到commite id这个版本（可以是上一次commite的版本）。reset后的参数代表了是否保留本地代码的修改，具体可以查询网络。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# 查询所有git的提交记录，包括详细commite id&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git reflog&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="技术" scheme="http://yoursite.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2018/10/18/hello-world/"/>
    <id>http://yoursite.com/2018/10/18/hello-world/</id>
    <published>2018-10-18T02:10:52.296Z</published>
    <updated>2018-10-18T06:38:30.444Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.<a id="more"></a></p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.
    
    </summary>
    
      <category term="文章" scheme="http://yoursite.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
  </entry>
  
</feed>
